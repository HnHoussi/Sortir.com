{% extends 'base.html.twig' %}

{% block title %}Ajouter un utilisateur{% endblock %}

{% block body %}
    <div class="container mt-5">
        <h1 class="text-center mb-4">Ajouter un utilisateur</h1>

        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">

                <form method="post">
                    {{ form_row(form._token) }}

                    {# First Name #}
                    <div class="mb-3">
                        {{ form_label(form.firstName) }}
                        {{ form_widget(form.firstName, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.firstName) }}
                    </div>

                    {# Last Name #}
                    <div class="mb-3">
                        {{ form_label(form.lastName) }}
                        {{ form_widget(form.lastName, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.lastName) }}
                    </div>

                    {# Pseudo #}
                    <div class="mb-3">
                        {{ form_label(form.pseudo) }}
                        {{ form_widget(form.pseudo, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.pseudo) }}
                    </div>

                    {# Phone #}
                    <div class="mb-3">
                        {{ form_label(form.phone) }}
                        {{ form_widget(form.phone, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.phone) }}
                    </div>

                    {# Email #}
                    <div class="mb-3">
                        {{ form_label(form.email) }}
                        {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.email) }}
                    </div>

                    {# Campus #}
                    <div class="mb-3">
                        {{ form_label(form.campus) }}
                        {{ form_widget(form.campus, {'attr': {'class': 'form-select'}}) }}
                        {{ form_errors(form.campus) }}
                    </div>

                    {# Roles for admin users #}
                    {% if form.roles is defined %}
                        <div class="mb-3">
                            <label class="form-label">RÃ´le</label>
                            <div>
                                {% for choice in form.roles %}
                                    <div class="form-check form-check-inline">
                                        {{ form_widget(choice, {'attr': {'class': 'form-check-input'}}) }}
                                        {{ form_label(choice, null, {'label_attr': {'class': 'form-check-label'}}) }}
                                    </div>
                                {% endfor %}
                            </div>
                            {{ form_errors(form.roles) }}
                        </div>
                    {% endif %}

                    {# Passwords for admin users #}
                    {% if form.plainPassword is defined %}
                        <div class="mb-3">
                            {{ form_label(form.plainPassword.first) }}
                            {{ form_widget(form.plainPassword.first, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.plainPassword.first) }}
                        </div>
                        <div class="mb-3">
                            {{ form_label(form.plainPassword.second) }}
                            {{ form_widget(form.plainPassword.second, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.plainPassword.second) }}
                        </div>
                    {% endif %}

                    {# Passwords for non-admin users #}
                    {% if form.oldPassword is defined %}
                        <div class="mb-3">
                            {{ form_label(form.oldPassword) }}
                            {{ form_widget(form.oldPassword, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.oldPassword) }}
                        </div>
                    {% endif %}

                    {% if form.newPassword is defined %}
                        <div class="mb-3">
                            {{ form_label(form.newPassword.first) }}
                            {{ form_widget(form.newPassword.first, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.newPassword.first) }}
                        </div>
                        <div class="mb-3">
                            {{ form_label(form.newPassword.second) }}
                            {{ form_widget(form.newPassword.second, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.newPassword.second) }}
                        </div>
                    {% endif %}

                    <div class="mb-3 text-center">
                        <button type="submit" class="btn btn-primary">Ajouter</button>
                        <a href="{{ path('_list') }}" class="btn btn-secondary ms-2">Annuler</a>
                    </div>

                </form>

            </div>
        </div>
    </div>
{% endblock %}
